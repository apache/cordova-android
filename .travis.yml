sudo: false

env:
  global:
    - ANDROID_API_LEVEL=28
    - ANDROID_BUILD_TOOLS_VERSION=28.0.
    - TERM=dumb # Keep gradle from crapping all over the log

language: android
jdk:
  - oraclejdk8

android:
  components:
    - tools
    - build-tools-$ANDROID_BUILD_TOOLS_VERSION
    - android-$ANDROID_API_LEVEL
  licenses:
    - 'android-sdk-preview-license-.+'
    - 'android-sdk-license-.+'
    - 'google-gdk-license-.+'
    
matrix:
  - nodejs_version=6
  - nodejs_version=8
  - nodejs_version=10
  - nodejs_version=12

before_install:
  - nvm install $TRAVIS_NODE_VERSION  
  - node --version
  - npm --version
  - gradle --version
    
install:
  - npm install
  - npm install -g codecov

script:
  - npm test
  - npm run cover

after_script:
  - codecov
